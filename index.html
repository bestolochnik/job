<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>мой огород</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style_3.css">
    <link rel="shortcut icon" href="img/ic.ico" type="image/x-icon">
</head>
<body>
    <header class="header-background">
        <div class="logo">
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Image Gallery</title>
                <style>
                    /* Основные стили для галереи */
                    .gallery {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        height: 100vh;
                        width: 50vw;
                        margin-left: auto;
                        margin-top: 50px; /* Отступ сверху для отдаления от кнопок */
                    }
            
                    .main-image {
                        flex: 1;
                        width: 100%;
                    }
            
                    .main-image img {
                        width: 100%;
                        height: auto;
                        object-fit: cover;
                    }
            
                    .thumbnail-container {
                        display: flex;
                        justify-content: space-around;
                        width: 100%;
                        margin-top: 10px;
                    }
            
                    .thumbnail-container img {
                        width: 30%;
                        cursor: pointer;
                        opacity: 0.7;
                        transition: opacity 0.3s;
                    }
            
                    .thumbnail-container img:hover {
                        opacity: 1;
                    }
            
                    /* Адаптивный дизайн для телефонов */
                    @media (max-width: 768px) {
                        .gallery {
                            width: 100vw;
                            height: 50vh;
                            margin-top: 20px; /* Более мелкий отступ на мобильных */
                        }
            
                        .thumbnail-container img {
                            width: 28%;
                        }
                    }
            
                    /* Стиль для кнопок, если он нужен */
                    .buttons {
                        display: flex;
                        justify-content: flex-end;
                        gap: 10px;
                        padding: 10px;
                    }
            
                    .button {
                        padding: 10px 20px;
                        color: white;
                        border: none;
                        cursor: pointer;
                        font-size: 16px;
                    }
            
                    .register-btn {
                        background-color: orange;
                    }
            
                    .login-btn {
                        background-color: blue;
                    }
                </style>
            </head>
            <body>
            
            <div class="buttons">
                <button class="button register-btn">Регистрация</button>
                <button class="button login-btn">Вход</button>
            </div>
            
            <div class="gallery">
                <div class="main-image">
                    <img src="img/photo_2024-11-01_13-19-48.jpg" alt="Main Image" id="mainImage">
                </div>
                <div class="thumbnail-container">
                    <img src="img/photo_2024-11-01_13-19-52.jpg" alt="Thumbnail 1" onclick="changeImage('image2.jpg')">
                    <img src="img/photo_2024-11-01_13-19-55.jpg" alt="Thumbnail 2" onclick="changeImage('image3.jpg')">
                    <img src="img/photo_2024-11-01_13-19-48.jpg" alt="Thumbnail 3" onclick="changeImage('image4.jpg')">
                </div>
            </div>
            
            <script>
                // Массив с путями к изображениям
                const images = ['img/photo_2024-11-01_13-19-48.jpg', 'img/photo_2024-11-01_13-19-52.jpg', 'img/photo_2024-11-01_13-19-55.jpg', 'img/photo_2024-11-01_13-19-55.jpg'];
                let currentIndex = 0;
            
                // Функция для смены изображения
                function changeImageAutomatically() {
                    currentIndex = (currentIndex + 1) % images.length;
                    document.getElementById('mainImage').src = images[currentIndex];
                }
            
                // Запускаем смену изображения каждые 3 секунды
                setInterval(changeImageAutomatically, 3000);
            </script>
            
            </body>
            </html>
            
        </div>
        <div class="button-container">
            <button class="outline-button" onclick="window.location.href='index.html'">Главная</button>
            <button class="outline-button" onclick="window.location.href='chart.html'">Карта города</button>
            <button class="outline-button" onclick="window.location.href='moloko.html'">Мессенджер</button>
            <button class="outline-button" onclick="window.location.href='yopta.html'">Телефоны для вызова экстренных служб</button>
        </div>
      
        <nav>
            <button class="register-button" onclick="openModal()">Регистрация</button>
            <button class="enter-button" onclick="register()">Вход</button>
        </nav>
    </header>
</head>
<body>


    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2>Регистрация</h2>
            <input type="text" id="username" placeholder="Имя пользователя" required>
            <input type="email" id="email" placeholder="Email" required>
            <input type="password" id="password" placeholder="Пароль" required>
            <button onclick="register()">Зарегистрироваться</button>
            <p id="status"></p>
        </div>
    </div>

    <script>
        function openModal() {
            document.getElementById('registerModal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('registerModal').style.display = 'none';
        }
        async function register() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            const response = await fetch('/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, email, password })
            });

            const result = await response.json();
            document.getElementById('status').textContent = result.message;
        }


        window.onclick = function(event) {
            const modal = document.getElementById('registerModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
        
    </script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head class="body1">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Messenger</title>
    <style>
        .body1 {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .posts-container {
            width: 60%;
            margin-top: 20px;
            
        }

        .post {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }

        .post img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-right: 20px;
        }

        .post-content {
            flex: 1;
        }

        .new-post-container {
            margin-top: 20px;
            width: 60%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .new-post-container textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            resize: vertical;
        }

        .new-post-container button {
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .new-post-container button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<h2>Мессенджер</h2>

<div class="posts-container" id="postsContainer">
    <!-- Сообщения будут добавлены здесь динамически -->
</div>

<div class="new-post-container">
    <textarea id="postText" rows="4" placeholder="Введите ваш пост..."></textarea>
    <button id="submitPost">Оставить пост</button>
</div>

<script>
    // Инициализируем массив с постами
    let posts = [
        { img: 'https://via.placeholder.com/80', text: 'Это первый пост' },
        { img: 'https://via.placeholder.com/80', text: 'Это второй пост' },
        { img: 'https://via.placeholder.com/80', text: 'Это третий пост' }
    ];

    // Функция для отображения постов на странице
    function displayPosts() {
        const postsContainer = document.getElementById('postsContainer');
        postsContainer.innerHTML = ''; // Очищаем контейнер

        posts.forEach(post => {
            const postElement = document.createElement('div');
            postElement.className = 'post';
            postElement.innerHTML = `
                <img src="${post.img}" alt="User">
                <div class="post-content">${post.text}</div>
            `;
            postsContainer.appendChild(postElement);
        });
    }

    // Изначально отображаем посты
    displayPosts();

    // Функция добавления нового поста
    function addPost() {
        const postText = document.getElementById('postText').value.trim();
        console.log("Введенный текст:", postText); // Выводим введенный текст в консоль

        if (postText === '') {
            alert('Введите текст поста');
            return;
        }

        // Новый пост добавляется в начало массива
        const newPost = { img: 'https://via.placeholder.com/80', text: postText };
        posts.unshift(newPost);
        console.log("Текущие посты после добавления:", posts); // Выводим текущие посты в консоль

        // Ограничиваем количество постов до 3
        if (posts.length > 3) {
            posts.pop(); // Удаляем последний пост, если превышено количество
        }

        // Обновляем отображение постов и очищаем текстовое поле
        displayPosts();
        document.getElementById('postText').value = '';
    }

    // Добавляем обработчик события для кнопки
    document.getElementById('submitPost').addEventListener('click', addPost);
</script>

</body>
</html>
